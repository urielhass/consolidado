<div>
	<md-toolbar class="md-table-toolbar md-default">
		<div class="md-toolbar-tools">
			<span>REQUISIÇÕES EM TRANSPORTE</span>
			<span flex></span>
			<div ng-show="showSearch" flex="auto">
				<md-button style="float: right;" class="md-icon-button" aria-label="Search" ng-click="showSearch = false; search = '';">
					<md-icon class="whitet">close</md-icon>
				</md-button>
				<input class="input-search" ng-model="search" placeholder="Pesquisar...">				
			</div>
			<div ng-show="!showSearch">
				<md-button class="md-icon-button" aria-label="Search" ng-click="showSearch = true">
					<md-icon class="whitet">search</md-icon>
				</md-button>
			</div>
		</div>
	</md-toolbar>
	<md-table-container>
		<table md-table multiple>
			<thead md-head>
				<tr md-row>
					<th md-column><span>ID<span></th>
					<th md-column><span>ESTOQUE</span></th>
					<th md-column><span>STATUS</span></th>
					<th md-column><span>DATA REQ.</span></th>
					<th md-column><span>REQ. POR</span></th>
					<th md-column><span>AÇÃO</span></th>
					<!-- th md-column><span>COD.</span></th>
			      	<th md-column><span>TÃ�TULO</span></th>
			        <th md-column><span>QUANTIDADE</span></th>
			        <th md-column><span>DATA</span></th>
			        <th md-column><span>REQ. POR</span></th>
			        <th md-column><span>INSTITUIÃ‡ÃƒO</span></th>
			        <th md-column><span>CATEGORIA</span></th>
			        <th md-column><span>SUB-CATEGORIA</span></th-->
			    </tr>
			</thead>
			<tbody md-body>
				<tr md-row ng-repeat="item in listRequest | filter:search;">
					<td md-cell>{{item.id}}</td>
					<td md-cell>
						<md-button class="md-icon-button" ng-click="viewStock(item.id);" title="VISUALIZAR O ESTOQUE" aria-label="deleteUser">
							<md-icon class="material-icons">visibility</md-icon>
						</md-button>
					</td>
					<!--<td md-cell>{{item.quantity}}</td>-->
					<td md-cell>{{item.status | traslateStatus}}</td>
					<td md-cell>{{item.dateRequest | date:'dd/MM/yyyy' : 'UTC'}}</td>
					<td md-cell>{{item.user.name}}</td>
					<!-- td md-cell>{{item.Id}}</td>
			      	<td md-cell>{{item.stock.title}}</td>
			        <td md-cell>{{item.quantity}}</td>
			        <td md-cell>{{item.dateRequest | date:'dd/MM/yyyy HH:mm:ss' : 'UTC'}}</td>
			        <td md-cell>{{item.user.name}}</td>
			        <td md-cell>Senai SUL</td>
			        <td md-cell>{{item.stock.subCategory.category.name}}</td>
			        <td md-cell>{{item.stock.subCategory.name}}</td-->
			        <td md-cell>
			        	<md-button ng-if="item.status != 50" ng-click="confirm(item.id);" class="md-raised">ENCAMINHADO</md-button>
			        </td>
			    </tr>
			</tbody>
		</table>
	</md-table-container>
</div>
<script type="text/ng-template" id="requestViewModal.html">
	<md-dialog aria-label="RequestModal" style="width: 50%;">
		<md-toolbar class="primary-color">
			<div class="md-toolbar-tools">
				<h2>INFORMAÇÕES DA REQUISIÇÃO</h2>
				<span flex></span>
				<md-button class="md-icon-button" ng-click="ctrl.cancel()">
					<md-icon class="material-icons">close</md-icon>
				</md-button>
			</div>
		</md-toolbar>
		<md-dialog-content ng-cloak>
			<div class="md-dialog-content" ng-repeat="item in ctrl.listStock">
				<p><strong>Título: </strong> {{item.stock.title}}</p>
				<p><strong>Quantidade: </strong> {{item.quantity}}</p>
				<p><strong>Valor unitário: </strong> R$ {{item.stock.unitaryValue}}</p>
				<p><strong>Valor total do item: </strong> R$ {{item.stock.unitaryValue * item.quantity}}</p>
			</div>
			<div class="md-dialog-content">
				<p><strong>Quantidade total: </strong> {{ctrl.total}}</p>
				<p><strong>Valor total: </strong> R$ {{ctrl.totalValue}}</p>
			</div>
		</md-dialog-content>
	</md-dialog>
</script>